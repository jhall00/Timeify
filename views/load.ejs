<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- for tailwind (uncomment when ready to use) -->
    <link rel="stylesheet" href="/styles.css">

    <title>Load</title>
</head>
<body>
<div class="flex justify-center">

    <div class="main">
        <div class="navbar">
            <a href="/home" aria-label="Timeify Home">
                <img src="Logo.svg" class="p-2 h-14" alt="Timeify"/>
            </a>
            <div class="justify-end pt-3">

                <a class="hover:text-xl pr-6 font-bold text-main-green text-lg" href="/generate">Generate</a>

                <a class="hover:text-xl pr-6 font-bold text-main-green text-lg underline decoration-2 underline-offset-1"
                   href="/load">Load</a>

            </div>

        </div>
        <p class="flex justify-center p-8 text-2xl text-main-green">Load a pre-existing playlist, which uses our timer
            notifications.</p>

        <div class="flex justify-center">
            <div class="bg-gradient-to-br from-green_grad1 to-green_grad2 backdrop-blur-lg shadow-lg w-5/6 h-max rounded-2xl p-10">

                <div class="flex justify-center">
                    <form id="load_form">

                        <div class="md:flex md:items-center mb-6">
                            <div class="flex items-center">

                                <img class="inline pr-3" id="sourceQ" src="/questionMark.svg" alt="question mark">
                                <label class="block pr-3 text-white font-bold md:text-right mb-1 md:mb-0" for="my_source">
                                    Source
                                </label>
                            </div>

                            <div class="flex w-2/3">
                            <div class="relative md:w-1/2 ">
                                <button class="bg-white hover:bg-gray-200 text-black src-button py-3 px-4 rounded-xl drop-shadow-md"
                                        id="select-source">Select Source
                                </button>
                            </div>
                            
                            <div class="relative md:w-1/2">
                                <div id="selected" class=" text-black text-sm py-3 px-4 rounded-xl drop-shadow-md">hello</div>
                            </div>
                        </div>
                            <div id="sourceInstructions" class="invisible bg-gray-200 absolute mb-20 rounded-lg">
                                <p class="p-1 text-xs">Have you already generated <br>a playlist with Timeify? <br>Load it in here.</p>
                            </div>
                        </div>


                        <div class="md:flex justify-center">
                            <input class="w-28 bg-mint hover:bg-shadow_mint hover:cursor-pointer text-black text-lg font-bold py-3 px-8 rounded-xl drop-shadow-md"
                                    id="loadSubmit" type="button" value="Load"/><br><br>
                            <hr>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>

    <div class="search-popup" id="mySearch">
        <div class="search-content rounded-xl">
            <span class="close" aria-label="Close">&times;</span>
            <h1 class="text-4xl">Spotify Music Search</h1>
            <p class="text-sm ml-1">Search for a playlist you own in your Spotify account.</p>
            <div class="flex mb-6 items-center">
                <input
                        class=" bg-gray-200 appearance-none border-2 border-gray-200 rounded w-fit py-2 pl-3 pr-8 mt-4 mr-4 text-gray-700 leading-tight focus:outline-none focus:bg-white"
                        id="search_term" type="search" name="searchTerm" aria-label="Search" placeholder="Search"><br>
                <input
                        class=" bg-mint hover:bg-shadow_mint text-black font-bold py-3 px-4 mt-4 rounded-xl drop-shadow-md"
                        id="searchSubmit" type="submit" value="Search" name="search"/><br><br>
            </div>
            <hr>
            <br>
            <div class="flex" id="searchResults">


            </div>
            <div>
                <% if (results.length > 0) { %>
                    <% results.forEach(result => { %>
                        <p>
                            <%= result.title; %>
                        </p>

                    <% }); %>
                <% } %>
            </div>
            <div class="items-center">
                <button class="bg-main-green opacity-50 cursor-not-allowed text-white py-3 px-4 rounded-xl drop-shadow-md cursor-pointer"
                        type="button" value="Confirm" name="confirm" id="confirm_button"> Confirm </button>
            </div>
        </div>

    </div>


</div>



<script>
  var search = document.getElementById("mySearch");
  var btn = document.getElementById("select-source");
  var span = document.getElementsByClassName("close")[0];
  var confirm = document.getElementById("confirm_button");

  btn.onclick = function() {
    search.style.display = "block";
    return false;
  }

  span.onclick = function() {
    search.style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target === search) {
      search.style.display = "none";
    }
  }

  confirm.onclick = function(){
    search.style.display = "none";
  }
</script>
<script src="/load.js"></script>
<script src="/load_validate.js"></script>
</body>
</html>
