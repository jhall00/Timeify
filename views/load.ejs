<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- for tailwind (uncomment when ready to use) -->
    <link rel="stylesheet" href="/styles.css">

    <title>Load</title>
</head>
<body>
<div class="flex justify-center">

    <div class="main">
        <div class="navbar">
            <a href="/home">
                <img src="Logo.svg" class="p-2 h-14" />
            </a>
            <div class="justify-end pt-3">

                <a class="hover:text-xl pr-6 font-bold text-main-green text-lg" href="/generate">Generate</a>

                <a class="hover:text-xl pr-6 font-bold text-main-green text-lg underline decoration-2 underline-offset-1"
                   href="/load">Load</a>

            </div>

        </div>
        <p class="flex justify-center p-8 text-2xl text-main-green">Load a pre-existing playlist, which uses our timer
            notifications.</p>

        <div class="flex justify-center">
            <div class="bg-gradient-to-br from-green_grad1 to-green_grad2 backdrop-blur-lg shadow-lg w-5/6 h-max rounded-2xl p-10">

                <div class="flex justify-center">
                    <form action="/load" method="post">

                        <div class="md:flex md:items-center mb-6">
                            <div class=" flex items-center">

                                <img class="inline pr-3" id="sourceQ" src="/questionMark.svg" alt="question mark">
                                <label class="block pr-3 text-white font-bold md:text-right mb-1 md:mb-0" for="my_source">
                                    Source
                                </label>
                            </div>
                            <div class="ml-3 w-2/3 ">
                                <button class="bg-white hover:bg-gray-200 text-black src-button py-3 px-4 rounded-xl drop-shadow-md"
                                        id="select-source">Select Source
                                </button>
                            </div>
                            <div id="sourceInstructions" class="invisible bg-gray-200 absolute mb-16 rounded-lg">
                                <p class=" p-1 text-xs">Have you already generated <br>a playlist with Timeify? <br>Load it in here.</p>
                            </div>
                        </div>


                        <div class="md:flex justify-center">
                            <input class="bg-mint hover:bg-shadow_mint hover:cursor-pointer text-black text-lg font-bold py-3 px-8 rounded-xl drop-shadow-md"
                                   type="submit" id="loadSubmit" value="Load" /><br><br>
                            <hr>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>

    <div class="search-popup" id="mySearch">
        <div class="search-content rounded-xl">
            <span class="close">&times;</span>
            <div class="flex" id="searchResults">
                <label class="text-4xl">
                    Load your Playlist:
                    <select id="playlist-load">

                    </select>
                </label>
            </div>

            <div>
                <% if (results.length > 0) { %>
                    <% results.forEach(result => { %>
                        <p>
                            <%= result.title; %>
                        </p>
                        <% results.artists.forEach(artist => { %>
                            <%= result.name; %>
                        <% }); %>
                    <% }); %>
                <% } %>
            </div>
        </div>
    </div>


</div>
<a href="/player/37i9dQZF1DZ06evO0ENBD2">
    <button
            class="justify-center bg-white hover:bg-shadow_mint text-black font-bold src-button py-3 px-4 rounded-xl drop-shadow-md">
        Hard-coded
        link to player
    </button>
</a>

<a href="/playlists">
    <button class="justify-center  bg-white hover:bg-shadow_mint text-black font-bold src-button py-3 px-4 rounded-xl drop-shadow-md">
        Hard-coded link to playlist caclulations
    </button>
</a>

<script>
  var search = document.getElementById("mySearch");
  var btn = document.getElementById("select-source");
  var span = document.getElementsByClassName("close")[0];

  btn.onclick = function() {
    search.style.display = "block";
    return false;
  }

  span.onclick = function() {
    search.style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target === search) {
      search.style.display = "none";
    }
  }
</script>
<script src="/load.js"></script>
</body>
</html>
